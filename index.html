<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UNASP EAD - Estudo Organizado</title>
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
    }
    #calendar {
      max-width: 900px;
      margin: 20px auto;
    }
    #notes-container, #databases-container {
      max-width: 900px;
      margin: 20px auto;
    }
    .note-card, .database-card {
      border: 1px solid #e5e7eb;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
    }
  </style>
</head>
<body class="bg-gray-100">
  <header class="bg-blue-600 text-white p-4">
    <h1 class="text-2xl font-bold text-center">UNASP EAD - Estudo Organizado</h1>
  </header>

  <main class="container mx-auto p-4">
    <!-- Botões de Acesso -->
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
      <a href="https://aluno-ies.educadventista.org/FrameHTML/Web/App/Edu/PortalEducacional/login/" target="_blank" class="bg-blue-500 text-white p-4 rounded-lg text-center hover:bg-blue-600 transition">Portal do Aluno</a>
      <a href="https://adventistas.brightspace.com/d2l/login?sessionExpired=0&target=%2fd2l%2fhome%2f6678" target="_blank" class="bg-blue-500 text-white p-4 rounded-lg text-center hover:bg-blue-600 transition">AVA</a>
      <a href="https://api.whatsapp.com/send?phone=08009480048" target="_blank" class="bg-green-500 text-white p-4 rounded-lg text-center hover:bg-green-600 transition">Suporte WhatsApp</a>
      <a href="https://www.instagram.com/poloeadadventista.sjrp/" target="_blank" class="bg-pink-500 text-white p-4 rounded-lg text-center hover:bg-pink-600 transition">Instagram</a>
    </section>

    <!-- Calendário -->
    <section id="calendar-section" class="mb-8">
      <h2 class="text-xl font-semibold mb-4">Calendário de Atividades</h2>
      <div id="calendar"></div>
      <div class="mt-4">
        <input type="text" id="event-title" placeholder="Título da atividade" class="border p-2 rounded w-full sm:w-1/3">
        <input type="date" id="event-date" class="border p-2 rounded w-full sm:w-1/3">
        <button onclick="addEvent()" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition">Adicionar Atividade</button>
      </div>
    </section>

    <!-- Anotações (Inspirado em Notion, Evernote, OneNote, Google Keep) -->
    <section id="notes-section" class="mb-8">
      <h2 class="text-xl font-semibold mb-4">Anotações</h2>
      <div class="mb-4">
        <input type="text" id="note-title" placeholder="Título da anotação" class="border p-2 rounded w-full sm:w-1/3">
        <textarea id="note-content" placeholder="Conteúdo da anotação" class="border p-2 rounded w-full h-24 mt-2"></textarea>
        <button onclick="addNote()" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition mt-2">Adicionar Anotação</button>
      </div>
      <div id="notes-container"></div>
    </section>

    <!-- Bancos de Dados Personalizados (Inspirado em Notion) -->
    <section id="databases-section" class="mb-8">
      <h2 class="text-xl font-semibold mb-4">Bancos de Dados Personalizados</h2>
      <div class="mb-4">
        <input type="text" id="database-title" placeholder="Título do banco de dados" class="border p-2 rounded w-full sm:w-1/3">
        <textarea id="database-content" placeholder="Conteúdo do banco de dados (ex: Tarefa, Status, Prazo)" class="border p-2 rounded w-full h-24 mt-2"></textarea>
        <button onclick="addDatabase()" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition mt-2">Adicionar Banco</button>
      </div>
      <div id="databases-container"></div>
    </section>

    <!-- Conexão de Ideias (Inspirado em Obsidian) -->
    <section id="connections-section">
      <h2 class="text-xl font-semibold mb-4">Conexão de Ideias</h2>
      <div class="mb-4">
        <input type="text" id="connection-title" placeholder="Título da ideia" class="border p-2 rounded w-full sm:w-1/3">
        <input type="text" id="connection-link" placeholder="Link para outra nota (título)" class="border p-2 rounded w-full sm:w-1/3 mt-2">
        <button onclick="addConnection()" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition mt-2">Adicionar Conexão</button>
      </div>
      <div id="connections-container"></div>
    </section>
  </main>

  <script>
    // Inicializar Calendário
    document.addEventListener('DOMContentLoaded', function() {
      const calendarEl = document.getElementById('calendar');
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        events: JSON.parse(localStorage.getItem('events')) || [],
        eventClick: function(info) {
          if (confirm(`Deseja remover a atividade "${info.event.title}"?`)) {
            info.event.remove();
            saveEvents();
          }
        }
      });
      calendar.render();
    });

    // Função para salvar eventos no localStorage
    function saveEvents() {
      const calendar = FullCalendar.getCalendar(document.getElementById('calendar'));
      const events = calendar.getEvents().map(event => ({
        title: event.title,
        start: event.start.toISOString()
      }));
      localStorage.setItem('events', JSON.stringify(events));
    }

    // Adicionar evento ao calendário
   function addEvent() {
  const title = document.getElementById('event-title').value;
  const date = document.getElementById('event-date').value;

  if (title && date) {
    const calendar = FullCalendar.getCalendar(document.getElementById('calendar'));
    calendar.addEvent({
      title: title,
      start: date
    });
    saveEvents(); // só chamando, sem reescrever
    document.getElementById('event-title').value = '';
    document.getElementById('event-date').value = '';
  } else {
    alert('Por favor, preencha o título e a data da atividade.');
  }
}

    // Adicionar anotação
    function addNote() {
      const title = document.getElementById('note-title').value;
      const content = document.getElementById('note-content').value;
      if (title && content) {
        const note = { title, content, id: Date.now() };
        const notes = JSON.parse(localStorage.getItem('notes')) || [];
        notes.push(note);
        localStorage.setItem('notes', JSON.stringify(notes));
        renderNotes();
        document.getElementById('note-title').value = '';
        document.getElementById('note-content').value = '';
      } else {
        alert('Por favor, preencha o título e o conteúdo da anotação.');
      }
    }

    // Renderizar anotações
    function renderNotes() {
      const notesContainer = document.getElementById('notes-container');
      const notes = JSON.parse(localStorage.getItem('notes')) || [];
      notesContainer.innerHTML = '';
      notes.forEach(note => {
        const noteCard = document.createElement('div');
        noteCard.className = 'note-card';
        noteCard.innerHTML = `
          <h3 class="font-semibold">${note.title}</h3>
          <p>${note.content}</p>
          <button onclick="deleteNote(${note.id})" class="text-red-500 hover:underline">Excluir</button>
        `;
        notesContainer.appendChild(noteCard);
      });
    }

    // Excluir anotação
    function deleteNote(id) {
      let notes = JSON.parse(localStorage.getItem('notes')) || [];
      notes = notes.filter(note => note.id !== id);
      localStorage.setItem('notes', JSON.stringify(notes));
      renderNotes();
    }

    // Adicionar banco de dados
    function addDatabase() {
      const title = document.getElementById('database-title').value;
      const content = document.getElementById('database-content').value;
      if (title && content) {
        const database = { title, content, id: Date.now() };
        const databases = JSON.parse(localStorage.getItem('databases')) || [];
        databases.push(database);
        localStorage.setItem('databases', JSON.stringify(databases));
        renderDatabases();
        document.getElementById('database-title').value = '';
        document.getElementById('database-content').value = '';
      } else {
        alert('Por favor, preencha o título e o conteúdo do banco de dados.');
      }
    }

    // Renderizar bancos de dados
    function renderDatabases() {
      const databasesContainer = document.getElementById('databases-container');
      const databases = JSON.parse(localStorage.getItem('databases')) || [];
      databasesContainer.innerHTML = '';
      databases.forEach(db => {
        const dbCard = document.createElement('div');
        dbCard.className = 'database-card';
        dbCard.innerHTML = `
          <h3 class="font-semibold">${db.title}</h3>
          <p>${db.content}</p>
          <button onclick="deleteDatabase(${db.id})" class="text-red-500 hover:underline">Excluir</button>
        `;
        databasesContainer.appendChild(dbCard);
      });
    }

    // Excluir banco de dados
    function deleteDatabase(id) {
      let databases = JSON.parse(localStorage.getItem('databases')) || [];
      databases = databases.filter(db => db.id !== id);
      localStorage.setItem('databases', JSON.stringify(databases));
      renderDatabases();
    }

    // Adicionar conexão de ideias
    function addConnection() {
      const title = document.getElementById('connection-title').value;
      const link = document.getElementById('connection-link').value;
      if (title && link) {
        const connection = { title, link, id: Date.now() };
        const connections = JSON.parse(localStorage.getItem('connections')) || [];
        connections.push(connection);
        localStorage.setItem('connections', JSON.stringify(connections));
        renderConnections();
        document.getElementById('connection-title').value = '';
        document.getElementById('connection-link').value = '';
      } else {
        alert('Por favor, preencha o título e o link da conexão.');
      }
    }

    // Renderizar conexões
    function renderConnections() {
      const connectionsContainer = document.getElementById('connections-container');
      const connections = JSON.parse(localStorage.getItem('connections')) || [];
      connectionsContainer.innerHTML = '';
      connections.forEach(conn => {
        const connCard = document.createElement('div');
        connCard.className = 'note-card';
        connCard.innerHTML = `
          <h3 class="font-semibold">${conn.title}</h3>
          <p>Link para: ${conn.link}</p>
          <button onclick="deleteConnection(${conn.id})" class="text-red-500 hover:underline">Excluir</button>
        `;
        connectionsContainer.appendChild(connCard);
      });
    }

    // Excluir conexão
    function deleteConnection(id) {
      let connections = JSON.parse(localStorage.getItem('connections')) || [];
      connections = connections.filter(conn => conn.id !== id);
      localStorage.setItem('connections', JSON.stringify(connections));
      renderConnections();
    }

    // Carregar anotações, bancos e conexões ao iniciar
    renderNotes();
    renderDatabases();
    renderConnections();
  </script>
</body>
</html>
